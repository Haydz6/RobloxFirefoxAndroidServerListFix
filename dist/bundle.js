/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={279:(e,r)=>{var t;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var i=typeof t;if("string"===i||"number"===i)e.push(t);else if(Array.isArray(t)){if(t.length){var o=a.apply(null,t);o&&e.push(o)}}else if("object"===i){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var s in t)n.call(t,s)&&t[s]&&e.push(s)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(t=function(){return a}.apply(r,[]))||(e.exports=t)}()}},r={};function t(n){var a=r[n];if(void 0!==a)return a.exports;var i=r[n]={exports:{}};return e[n](i,i.exports,t),i.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";const e=CoreUtilities,r=React;var n=t.n(r);const a=ReactDOM,i={playerTruncationSize:5,slowGameFpsThreshold:15,serverNameMaxLength:50,numGameInstancesPerRow:4,serverListTypes:{friend:{key:"friends",value:"Friend"},public:{value:"Public"},Vip:{key:"private",value:"VIP"}},sortOrders:{descending:"Desc",ascending:"Asc"},defaultOptions:{sortOrder:"Desc",excludeFullGames:!1},resources:{friendsServersTitle:"Heading.ServersMyFriendsAreIn",publicServersTitle:"Heading.OtherServers",loadMoreButtonText:"Action.LoadMore",playerCountText:"Label.CurrentPlayerCount",noServersFoundText:"Label.NoServersFound",configureServerText:"Action.ConfigureServer",shutdownServerText:"Label.ShutDownServer",shutdownServerSuccess:"Message.ShutdownServerSuccess",shutdownServerError:"Message.ShutdownServerError",slowGameWarning:"Label.SlowGame",joinServerText:"Label.ServerListJoin",serversText:"Label.Servers",privateServerHeader:"Heading.PrivateServers",privateServerTooltip:"Label.PrivateServersAbout",privateServerRefreshText:"Action.Refresh",privateServerPrice:"Label.Price",privateServerPlayWithOthers:"Label.PlayWithOthers",seeAllPrivateServersText:"Label.SeeAllPrivateServers",privateServersNotSupported:"Label.VipServersNotSupported",freeGameText:"Label.Free",maxFreePrivateServersText:"Description.MaxFreePrivateServers",createPrivateServerText:"Action.CreatePrivateServer",paymentCancelledText:"Label.PaymentCancelled",insufficientFunds:"Label.InsufficientFunds",inactiveServerText:"Label.Inactive",renewServerListText:"Label.Renew",renewPrivateServerTitle:"Label.RenewPrivateServer",renewSubscriptionSuccess:"Message.RenewSubscriptionSuccess",renewSubscriptionError:"Message.RenewSubscriptionError",confirmEnableFuturePaymentsText:"Label.ConfirmEnableFuturePayments",startRenewingPrivateServerPrice:"Label.StartRenewingPrivateServerPrice",cancelText:"Label.Cancel",createPrivateServerPriceText:"Label.CreatePrivateServerFor",gameNameText:"Label.GameName",serverNameText:"Label.ServerName",createPrivateServerTitle:"Action.CreatePrivateServer",buyNowText:"Action.BuyNow",createServerFooterText:"Label.FooterText",privateServerLabel:"Label.PrivateServer",cancelAction:"Action.Cancel",transactionFailedHeading:"Heading.TransactionFailed",createServerFooterDescription:"Description.RecurringSubscriptionRenewal",friendInServerLabel:"Label.FriendInServer",twoFriendsInServerLabel:"Label.TwoFriendsInServer",manyFriendsInServerLabel:"Label.ManyFriendsInThisServer",loadServersError:"Message.LoadServersFailure",purchaseError:"Message.InternalErrorPurchaseError",numberOfPlayers:"Label.NumberOfPlayers",hideFullServers:"Label.ExcludeFullServers",descending:"Action.Descending",ascending:"Action.Ascending"}},o=PropTypes;var s=t.n(o);const l=ReactUtilities,c=HeaderScripts,u=Roblox;var d=u.EnvironmentUrls.gamesApi;const v=function(r){return e.urlService.getAbsoluteUrl("/users/".concat(r,"/profile"))},m=function(r){return e.urlService.getUrlWithQueries("/private-server/configure",{privateServerId:r})},f=function(r){return e.urlService.getUrlWithLocale("/info/vip-server",r)};function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(e,r,t){var n;return n=function(e,r){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"),(r="symbol"==p(n)?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var b=i.serverListTypes,S=function(r,t){return e.urlService.getAbsoluteUrl("".concat(d,"/v1/games/").concat(r,"/servers/").concat(t))},w=function(r){return e.urlService.getAbsoluteUrl("".concat(d,"/v1/games/").concat(r,"/private-servers"))},E=function(){return e.urlService.getAbsoluteUrl("/game-instances/shutdown")},x=function(e){return"".concat(d,"/v1/vip-servers/").concat(e)},I=function(e){return"".concat(d,"/v1/games/vip-servers/").concat(e)},P=function(e){return"".concat(d,"/v1/games/vip-servers/").concat(e)},T=function(e){return"".concat(d,"/v1/vip-servers/").concat(e,"/subscription")};const L={getPublicGameInstances:function(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={url:S(r,b.public.value),retryable:!0,withCredentials:!0},i=g({cursor:t},n);return e.httpService.get(a,i)},getFriendsGameInstances:function(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={url:S(r,b.friend.value),retryable:!0,withCredentials:!0},i=g({cursor:t},n);return e.httpService.get(a,i)},getVipGameInstances:function(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={url:w(r),retryable:!0,withCredentials:!0},i=g({cursor:t},n);return e.httpService.get(a,i)},shutdownGameInstance:function(r,t,n){var a,i=null===(a=document.getElementsByName("__RequestVerificationToken")[0])||void 0===a?void 0:a.value,o={url:E(),retryable:!0,withCredentials:!0},s={__RequestVerificationToken:i,placeId:r,gameId:t};return n&&(s.privateServerId=n),e.httpService.post(o,s)},createPrivateServer:function(r,t,n){var a={url:P(r),retryable:!0,withCredentials:!0},i={name:t,expectedPrice:n};return e.httpService.post(a,i)},getVipServer:function(r){var t={url:x(r),retryable:!0,withCredentials:!0};return e.httpService.get(t)},createVipServer:function(r,t,n){var a={url:I(r),retryable:!0,withCredentials:!0};return e.httpService.post(a,{name:t,expectedPrice:n})},updateVipServerSubscription:function(r,t,n){var a={url:T(r),retryable:!0,withCredentials:!0};return e.httpService.patch(a,{active:t,price:n})}};const N=function(){var e=document.getElementById("game-detail-meta-data");return e?{gameDetailUniverseId:parseInt(e.getAttribute("data-universe-id"),10),gameDetailPlaceName:e.getAttribute("data-place-name"),gameDetailPlaceId:parseInt(e.getAttribute("data-place-id"),10),gameDetailPageId:e.getAttribute("data-page-id"),gameDetailGameInstanceId:e.getAttribute("data-game-instance-id"),gameDetailShowShutdownAllButton:"True"===e.getAttribute("data-show-shut-down-all-button"),gameDetailUserCanManagePlace:"True"===e.getAttribute("data-user-can-manage-place"),gameDetailPrivateServerPrice:parseInt(e.getAttribute("data-private-server-price"),10),gameDetailCanCreateServer:"True"===e.getAttribute("data-can-create-server"),gameDetailPrivateServerLimit:parseInt(e.getAttribute("data-private-server-limit"),10)||0,gameDetailSellerName:e.getAttribute("data-seller-name"),gameDetailSellerId:parseInt(e.getAttribute("data-seller-id"),10),gameDetailPrivateServerProductId:parseInt(e.getAttribute("data-private-server-product-id"),10),gameDetailPreopenCreatePrivateServerModal:"True"===e.getAttribute("data-preopen-create-private-server-modal"),gameDetailExperienceInviteLinkId:e.getAttribute("data-experience-invite-link-id"),gameDetailExperienceInviteStatus:e.getAttribute("data-experience-invite-status")}:null};function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function O(){O=function(){return r};var e,r={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,r,t){e[r]=t.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{c({},"")}catch(e){c=function(e,r,t){return e[r]=t}}function u(e,r,t,n){var i=r&&r.prototype instanceof g?r:g,o=Object.create(i.prototype),s=new R(n||[]);return a(o,"_invoke",{value:T(e,t,s)}),o}function d(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}r.wrap=u;var v="suspendedStart",m="suspendedYield",f="executing",p="completed",h={};function g(){}function y(){}function b(){}var S={};c(S,o,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(C([])));E&&E!==t&&n.call(E,o)&&(S=E);var x=b.prototype=g.prototype=Object.create(S);function I(e){["next","throw","return"].forEach((function(r){c(e,r,(function(e){return this._invoke(r,e)}))}))}function P(e,r){function t(a,i,o,s){var l=d(e[a],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==A(u)&&n.call(u,"__await")?r.resolve(u.__await).then((function(e){t("next",e,o,s)}),(function(e){t("throw",e,o,s)})):r.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return t("throw",e,o,s)}))}s(l.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new r((function(r,a){t(e,n,r,a)}))}return i=i?i.then(a,a):a()}})}function T(r,t,n){var a=v;return function(i,o){if(a===f)throw new Error("Generator is already running");if(a===p){if("throw"===i)throw o;return{value:e,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var l=L(s,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===v)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=f;var c=d(r,t,n);if("normal"===c.type){if(a=n.done?p:m,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=p,n.method="throw",n.arg=c.arg)}}}function L(r,t){var n=t.method,a=r.iterator[n];if(a===e)return t.delegate=null,"throw"===n&&r.iterator.return&&(t.method="return",t.arg=e,L(r,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(a,r.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[r.resultName]=o.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function N(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function j(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function C(r){if(r||""===r){var t=r[o];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var a=-1,i=function t(){for(;++a<r.length;)if(n.call(r,a))return t.value=r[a],t.done=!1,t;return t.value=e,t.done=!0,t};return i.next=i}}throw new TypeError(A(r)+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),r.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===y||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},r.awrap=function(e){return{__await:e}},I(P.prototype),c(P.prototype,s,(function(){return this})),r.AsyncIterator=P,r.async=function(e,t,n,a,i){void 0===i&&(i=Promise);var o=new P(u(e,t,n,a),i);return r.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(x),c(x,l,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var r=Object(e),t=[];for(var n in r)t.push(n);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in r)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=C,R.prototype={constructor:R,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!r)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function a(n,a){return s.type="throw",s.arg=r,t.next=n,a&&(t.method="next",t.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=r,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),h},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),j(t),h}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var a=n.arg;j(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:C(r),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=e),h}},r}function j(e,r,t,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void t(e)}s.done?r(l):Promise.resolve(l).then(n,a)}function R(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var i=e.apply(r,t);function o(e){j(i,n,a,o,s,"next",e)}function s(e){j(i,n,a,o,s,"throw",e)}o(void 0)}))}}function C(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(s.push(n.value),s.length!==r);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,r)||D(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,r){if(e){if("string"==typeof e)return k(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(e,r):void 0}}function k(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var G=N,M=i.defaultOptions;const q=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G(),a=n.gameDetailUniverseId,i=n.gameDetailPlaceId,o=n.gameDetailPlaceName,s=n.gameDetailCanCreateServer,l=n.gameDetailPrivateServerPrice,u=n.gameDetailUserCanManagePlace,d=n.gameDetailSellerId,v=n.gameDetailSellerName,m=n.gameDetailPrivateServerProductId,f=F((0,r.useState)(!1),2),p=f[0],h=f[1],g=F((0,r.useState)(!1),2),y=g[0],b=g[1],S=F((0,r.useState)([]),2),w=S[0],E=S[1],x=F((0,r.useState)(""),2),I=x[0],P=x[1],T=function(e,r){var t=C(e),n={};return t.forEach((function(e){void 0!==e.id&&(n[e.id]=e)})),r.forEach((function(e){var r=n[e.id];r?Object.assign(r,e):t.push(e)})),t},N=(0,r.useCallback)(R(O().mark((function r(){var n,a,o,s,l,u,d=arguments;return O().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=d.length>0&&void 0!==d[0]?d[0]:{},a=d.length>1&&void 0!==d[1]&&d[1],!p){r.next=4;break}throw Error("Cannot load more servers while a request is in flight");case 4:return h(!0),b(!1),r.prev=6,r.next=9,e(i,a?"":I,n);case 9:return o=r.sent,s=o.data,l=s.data,u=s.nextPageCursor,r.next=15,Promise.all(l.map(function(){var e=R(O().mark((function e(r){var n,a,i,o,s,l,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r.players&&(r.players=[]),a=r.players,i=r.playerTokens,o={},a.forEach((function(e){o[e.playerToken]=e})),i.forEach((function(e){null==o[e]&&a.push({id:null,name:null,playerToken:e,displayName:null})})),!t||!r.vipServerId||(null===(n=r.owner)||void 0===n?void 0:n.id)!==c.authenticatedUser.id){e.next=17;break}return s=r.vipServerId,e.prev=7,e.next=10,L.getVipServer(s);case 10:l=e.sent,u=l.data,r.vipServerSubscription=u.subscription,e.next=17;break;case 15:e.prev=15,e.t0=e.catch(7);case 17:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(r){return e.apply(this,arguments)}}()));case 15:E(a?l:T(w,l)),P(u),r.next=24;break;case 19:r.prev=19,r.t0=r.catch(6),E([]),P(""),b(!0);case 24:return r.prev=24,h(!1),r.finish(24);case 27:case"end":return r.stop()}}),r,null,[[6,19,24,27]])}))),[p,i,I,w,e,t]),A=(0,r.useCallback)((function(e){if(p)throw Error("Cannot remove server from list while a request is in flight");var r=C(w);r.splice(e,1),E(r)}),[p,w]),j=(0,r.useCallback)((function(e){if(p)throw Error("Cannot clear server while a request is in flight");var r=C(w),t=r[e];t.playerTokens=[],t.players=[],t.playing=0,t.id=null,E(r)}),[p,w]),D=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(p)throw Error("Cannot refresh server list while a request is in flight");N(e,!0)}),[p,N]);return(0,r.useEffect)((function(){N(M)}),[]),{metaData:{universeId:a,placeId:i,placeName:o,canCreateServer:s,price:l,userCanManagePlace:u,sellerId:d,sellerName:v,privateServerProductId:m},servers:w,loadMoreServers:N,removeServerAtIndex:A,clearServerAtIndex:j,refreshServers:D,hasNext:!!I,isBusy:p,setIsBusy:h,hasError:y}},B={common:["CommonUI.Controls"],feature:"Feature.ServerList"},_={common:[],feature:"Feature.PrivateServers"},U={common:[],feature:"Purchasing.PurchaseDialog"},H={common:[],feature:"Feature.VIPServer"},W=ReactStyleGuide;var V=t(279),z=t.n(V);const $=RobloxThumbnails,J="robloxAttributionIds";var K;!function(e){e.GameDetailReferral="gameDetailReferral"}(K||(K={}));const Y=r=>{const t=window;let n=t[J];n||(n={},t[J]=n);let a=n[r];return a||(a=e.uuidService.generateRandomUuid(),n[r]=a),a},Q=Y,X=CoreRobloxUtilities,Z=((new u.Intl).getDateTimeFormatter(),e=>Object.keys(e).reduce(((r,t)=>("object"==typeof e[t]&&e[t]&&(r[t]=JSON.stringify(e[t])),"number"==typeof e[t]&&(r[t]=e[t]),"string"==typeof e[t]&&(r[t]=encodeURIComponent(e[t])),"boolean"==typeof e[t]&&(r[t]=e[t]?1:0),r)),{})),{parseQueryString:ee}=e.urlService,{getAbbreviatedValue:re}=e.abbreviateNumber,{getNumberFormat:te}=e.numberFormat;var ne;!function(e){e.SearchPage="searchPage",e.SortDetailPageDiscover="sortDetailPageDiscover",e.SortDetailPageHome="sortDetailPageHome",e.GameDetailPage="gameDetailPage",e.GamesPage="gamesPage",e.HomePage="homePage",e.PeopleListInHomePage="peopleListInHomePage"}(ne||(ne={}));const ae=()=>document.referrer;var ie=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]])}return t};const{eventTypes:{pageLoad:oe,formInteraction:se}}=X.eventStreamService;var le,ce,ue;!function(e){e.AbsPositions="absPositions",e.AdsPositions="adsPositions",e.AdFlags="adFlags",e.Algorithm="algorithm",e.AttributionId="attributionId",e.HttpReferrer="httpReferrer",e.EmphasisFlag="emphasisFlag",e.GameSetTargetId="gameSetTargetId",e.GameSetTypeId="gameSetTypeId",e.IsAd="isAd",e.NativeAdData="nativeAdData",e.AdIds="adIds",e.NumberOfLoadedTiles="numberOfLoadedTiles",e.Page="page",e.PlaceId="placeId",e.Position="position",e.RootPlaceIds="rootPlaceIds",e.SortId="sortId",e.SortPos="sortPos",e.SuggestionKwd="suggestionKwd",e.SuggestionReplacedKwd="suggestionReplacedKwd",e.SuggestionCorrectedKwd="suggestionCorrectedKwd",e.SuggestionAlgorithm="suggestionAlgorithm",e.Topics="topics",e.TreatmentType="treatmentType",e.UniverseId="universeId",e.UniverseIds="universeIds",e.FriendId="friendId"}(le||(le={})),function(e){e.GameImpressions="gameImpressions",e.GameDetailReferral="gameDetailReferral",e.SortDetailReferral="sortDetailReferral"}(ce||(ce={})),function(e){e.HomePageSessionInfo="homePageSessionInfo",e.GameSearchSessionInfo="gameSearchSessionInfo",e.DiscoverPageSessionInfo="discoverPageSessionInfo"}(ue||(ue={}));ce.GameImpressions,ce.GameDetailReferral,ce.SortDetailReferral;function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function ve(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function me(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ve(Object(t),!0).forEach((function(r){fe(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ve(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function fe(e,r,t){var n;return n=function(e,r){if("object"!=de(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(r,"string"),(r="symbol"==de(n)?n:String(n))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var pe=c.jsClientDeviceIdentifier.isIE11,he=N,ge=(0,u.DeviceMeta)(),ye=ge.deviceType,be=ge.isUWPApp,Se=ge.isInApp,we=function(){return+window.location.pathname.split("/")[2]},Ee=function(r,t,n){var a=t.instanceId,i=t.accessCode,o=u.GameLauncher.isJoinAttemptIdEnabled()?e.uuidService.generateRandomUuid():void 0,s="".concat(n,"ServerListJoin"),l={pid:we(),joinAttemptId:o},c=function(){u.EventStream.SendEventWithTarget("playGameClicked",s,me({attributionId:Q(ce.GameDetailReferral)},l),u.EventStream.TargetTypes.WWW)};if("computer"===ye&&!be||"tablet"===ye&&pe||be)return function(){c(),u.EventStream.SendEventWithTarget("gamePlayIntent",s,me({lType:"protocol",refuid:null,pg:"gameDetail"},l),u.EventStream.TargetTypes.WWW),i?u.GameLauncher.joinPrivateGame(r,i,void 0,o,u.GameLauncher.isJoinAttemptIdEnabled()?s:void 0):a&&u.GameLauncher.joinGameInstance(r,a,!1,!1,o,u.GameLauncher.isJoinAttemptIdEnabled()?s:void 0)};var d="";return d=Se?e.urlService.getUrlWithQueries("/games/start",{placeId:r}):"robloxmobile://placeID=".concat(r),a&&(d+="&gameInstanceId=".concat(a)),i&&(d+="&accessCode=".concat(i)),u.GameLauncher.isJoinAttemptIdEnabled()&&o&&(d+="&joinAttemptId=".concat(o,"&joinAttemptOrigin=").concat(s)),function(){c(),window.location.href=d}},xe=i.resources,Ie=m;function Pe(e){var t=e.className,a=e.translate,i=e.gameId,o=e.vipServerId,s=e.isOwner,l=e.canManagePlace,c=e.shutdownServer,u=e.isLoading,d=o>0,v=d&&s,m=null!==i&&(!d&&l||v);return v||m?n().createElement("div",{className:t},n().createElement(W.Popover,{id:"game-instance-dropdown-menu",button:n().createElement(W.IconButton,{iconName:"more",size:W.IconButton.sizes.small,isDisabled:u}),trigger:"click",placement:"bottom"},n().createElement("ul",{className:"dropdown-menu",role:"menu"},v&&n().createElement("li",null,n().createElement(W.Link,{url:Ie(o),className:"rbx-private-server-configure"},a(xe.configureServerText))),m&&n().createElement("li",null,n().createElement("button",{type:"button",onClick:c,className:"rbx-private-server-shutdown rbx-private-server-shutdown"},a(xe.shutdownServerText)))))):n().createElement(r.Fragment,null)}Pe.defaultProps={className:"",gameId:null,vipServerId:0,isOwner:!1,canManagePlace:!1},Pe.propTypes={className:s().string,translate:s().func.isRequired,gameId:s().string,vipServerId:s().number,isOwner:s().bool,canManagePlace:s().bool,shutdownServer:s().func.isRequired,isLoading:s().bool.isRequired};const Te=Pe,Le=ReactDOMServer,Ne=RobloxItemPurchase;function Ae(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(s.push(n.value),s.length!==r);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return Oe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oe(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var je=i.resources;function Re(e){var t=e.translate,a=e.placeName,i=e.creatorName,o=e.price,s=e.renewPrivateServer,l=e.isLoading,c=Ae((0,r.useState)(!1),2),u=c[0],d=c[1],v=Ae((0,r.useState)(!1),2),m=v[0],f=v[1],p=n().createElement(r.Fragment,null,n().createElement("p",{className:"renew-server-modal-body-text"},t(je.confirmEnableFuturePaymentsText,{placeName:a,creatorName:i})),n().createElement("p",{className:"renew-server-modal-body-text",dangerouslySetInnerHTML:{__html:t(je.startRenewingPrivateServerPrice,{price:(0,Le.renderToString)(n().createElement(Ne.PriceLabel,{price:o}))})}})),h=(0,r.useCallback)((function(){d(!1)}),[]),g=(0,r.useCallback)((function(){h(),f(!0),s().finally((function(){f(!1)}))}),[s]);return n().createElement(r.Fragment,null,n().createElement(W.Button,{className:"rbx-private-server-renew",onClick:function(){return d(!0)},size:W.Button.sizes.extraSmall,width:W.Button.widths.full,variant:W.Button.variants.control,isDisabled:l||m},t(je.renewServerListText)),n().createElement(W.SimpleModal,{show:u,title:t(je.renewPrivateServerTitle),body:p,actionButtonText:t(je.renewServerListText),neutralButtonText:t(je.cancelText),onAction:g,onClose:h,onNeutral:h,actionButtonShow:!0}))}Re.propTypes={translate:s().func.isRequired,placeName:s().string.isRequired,creatorName:s().string.isRequired,price:s().number.isRequired,renewPrivateServer:s().func.isRequired,isLoading:s().bool.isRequired};const Ce=(0,l.withTranslations)(Re,_);var Fe=N,De=i.resources;function ke(e){var t=e.translate,a=e.privateServerId,i=e.isPaymentCancelled,o=e.isInsufficientFunds,s=e.isServerInactive,l=e.canRenew,c=e.setSubscription,u=e.isLoading,d=e.systemFeedbackService,v=Fe(),m=v.gameDetailPlaceName,f=v.gameDetailPrivateServerPrice,p=v.gameDetailSellerName,h=(0,r.useCallback)((function(){return new Promise((function(e){L.updateVipServerSubscription(a,!0,f).then((function(e){var r=e.data;c(r),d.success(t(De.renewSubscriptionSuccess)||"Successfully renewed private server")}),(function(e){var r,n=e.data;if((null===(r=n.errors)||void 0===r?void 0:r.length)>0){var a,i=n.errors[0];d.warning(null!==(a=i.userFacingMessage)&&void 0!==a?a:i.message)}else d.warning(t(De.renewSubscriptionError)||"Unable to renew subscription.")})).finally((function(){e()}))}))}),[a,f,c,t,d]);return n().createElement(r.Fragment,null,i&&n().createElement("div",{className:"rbx-private-server-subscription-alert text-alert"},n().createElement("span",{className:"icon-remove"}),n().createElement("span",{className:"rbx-private-server-subscription-alert-text"},t(De.paymentCancelledText))),o&&n().createElement("div",{className:"rbx-private-server-insufficient-funds text-alert"},n().createElement("span",{className:"icon-remove"}),t(De.insufficientFunds)),s&&n().createElement("div",{className:"rbx-private-server-inactive"},n().createElement("span",{className:"icon-turn-off"}),t(De.inactiveServerText)),l&&n().createElement(Ce,{placeName:m,creatorName:p,price:f,renewPrivateServer:h,isLoading:u}))}ke.propTypes={translate:s().func.isRequired,privateServerId:s().number.isRequired,isPaymentCancelled:s().bool.isRequired,isInsufficientFunds:s().bool.isRequired,isServerInactive:s().bool.isRequired,canRenew:s().bool.isRequired,setSubscription:s().func.isRequired,isLoading:s().bool.isRequired,systemFeedbackService:s().shape({success:s().func.isRequired,warning:s().func.isRequired}).isRequired};const Ge=(0,l.withTranslations)(ke,B),Me=RobloxBadges;var qe=v;function Be(e){var r=e.ownerUserId,t=e.ownerName,a=e.ownerHasVerifiedBadge;return n().createElement("div",{className:"rbx-private-owner"},n().createElement(W.Link,{title:t,url:qe(r),className:"avatar avatar-card-fullbody owner-avatar"},n().createElement($.Thumbnail2d,{type:$.ThumbnailTypes.avatarHeadshot,size:$.DefaultThumbnailSize,targetId:r,containerClass:"avatar-card-image"})),n().createElement(W.Link,{url:qe(r),className:"text-name text-overflow"},n().createElement(Me.VerifiedBadgeStringContainer,{size:Me.BadgeSizes.CAPTIONHEADER,showVerifiedBadge:a,text:t})))}Be.propTypes={ownerUserId:s().number.isRequired,ownerName:s().string.isRequired,ownerHasVerifiedBadge:s().bool.isRequired};const _e=Be;var Ue=v,He=i.resources;function We(e){var t=e.translate,a=e.players,i=(0,r.useMemo)((function(){return a.filter((function(e){return null!==e.id&&e.id!==c.authenticatedUser.id}))}),[a]),o=function(e){return void 0===e?n().createElement(r.Fragment,null):n().createElement(W.Link,{href:Ue(e.id),className:"text-name"},e.displayName)},s=(0,r.useMemo)((function(){if(0===i.length)return"";var e=(0,Le.renderToString)(o(i[0]));if(1===i.length)return t(He.friendInServerLabel,{friend:e})||"Friends in this server: ".concat(e);var r=(0,Le.renderToString)(o(i[1]));if(2===i.length)return t(He.twoFriendsInServerLabel,{firstFriend:e,secondFriend:r})||"Friends in this server: ".concat(e," and ").concat(r);var n=i.length-2;return"Friends in this server: ".concat(e,", ").concat(r,", and ").concat(n," ").concat(1===n?"other":"others")}),[i,t]);return 0===i.length?n().createElement(r.Fragment,null):n().createElement("div",{className:"text friends-in-server-label",dangerouslySetInnerHTML:{__html:s}})}We.propTypes={translate:s().func.isRequired,players:s().arrayOf(s().any).isRequired};const Ve=We,{apiGatewayUrl:ze}=u.EnvironmentUrls,$e={url:{getExperimentationValues:(e,r,t)=>({url:`${ze}/product-experimentation-platform/v1/projects/${e}/layers/${r}/values?parameters=${t.join(",")}`,withCredentials:!0})},defaultValues:{homePage:{},homePageWeb:{},serverTab:{ShouldDisableJoinButtonForFullServers:!1},gameDetails:{ShouldHidePrivateServersInAboutTab:!1},searchPage:{ShouldUseOmniSearchAPI:!1},discoverPage:{IsGamesOmniFeedEnabled:!1}},layerNames:{homePage:"PlayerApp.HomePage.UX",homePageWeb:"Website.Homepage",serverTab:"GameDetails.ServersTab",gameDetails:"Website.GameDetails",searchPage:"Website.SearchResultsPage",discoverPage:"Website.GamesPage"}},{apiGatewayUrl:Je}=u.EnvironmentUrls;var Ke,Ye,Qe,Xe,Ze,er,rr;!function(e){e.Game="Game",e.CatalogAsset="CatalogAsset",e.CatalogBundle="CatalogBundle"}(Ke||(Ke={})),function(e){e.Carousel="Carousel",e.AvatarCarousel="AvatarCarousel",e.SortlessGrid="SortlessGrid"}(Ye||(Ye={})),function(e){e.Sponsored="Sponsored",e.SponsoredGame="SponsoredGame"}(Qe||(Qe={})),function(e){e.AppGameTileNoMetadata="AppGameTileNoMetadata",e.GridTile="GridTile"}(Xe||(Xe={})),function(e){e.Always="Always",e.Hover="Hover"}(Ze||(Ze={})),function(e){e.All="all"}(er||(er={})),function(e){e.Game="Game"}(rr||(rr={}));var tr=function(e,r,t,n){return new(t||(t=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var r;e.done?a(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(o,s)}l((n=n.apply(e,r||[])).next())}))};const nr=(r,t,n=1)=>tr(void 0,void 0,void 0,(function*(){try{const{data:a}=yield e.httpService.get($e.url.getExperimentationValues(n,r,Object.keys(t))),i=Object.keys(a).reduce(((e,r)=>(null!==a[r]&&(e[r]=a[r]),e)),{});return Object.assign(Object.assign({},t),i)}catch(e){return t}})),{layerNames:ar,defaultValues:ir}=$e,or={disableJoinButtonForFullServers:!1},sr=(0,r.createContext)(or),lr=({children:e})=>{const[t,a]=(0,r.useState)(or);return(0,r.useEffect)((()=>{nr(ar.serverTab,ir.serverTab).then((e=>{a({disableJoinButtonForFullServers:!!(null==e?void 0:e.ShouldDisableJoinButtonForFullServers)})})).catch((e=>{console.error(e)}))}),[]),n().createElement(sr.Provider,{value:t},e)},cr=sr;function ur(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(s.push(n.value),s.length!==r);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return dr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dr(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var vr=v,mr=i.resources,fr=i.playerTruncationSize,pr=i.serverListTypes;function hr(e){var t=e.maxPlayerCount,a=e.currentPlayerCount;if(!t)return n().createElement(r.Fragment,null);var i=Math.round(a/t*100);return n().createElement("div",{className:"server-player-count-gauge border"},n().createElement("div",{className:"gauge-inner-bar border",style:{width:"".concat(i,"%")}}))}function gr(e){var r=e.player;return n().createElement("span",{key:r.playerToken,className:"avatar avatar-headshot-md player-avatar"},null==r.id?n().createElement($.Thumbnail2d,{type:$.ThumbnailTypes.avatarHeadshot,token:r.playerToken,containerClass:"avatar-card-image"}):n().createElement(W.Link,{className:"avatar-card-link",href:vr(r.id)},n().createElement($.Thumbnail2d,{type:$.ThumbnailTypes.avatarHeadshot,targetId:r.id,containerClass:"avatar-card-image",altName:r.displayName})))}function yr(e){var t=e.id,a=e.translate,i=e.cssKey,o=e.serverListType,s=e.placeId,l=e.gameServerStatus,u=e.canManagePlace,d=e.name,v=e.vipServerId,m=e.vipServerSubscription,f=e.accessCode,p=e.showSlowGameMessage,h=e.owner,g=e.players,y=e.onShutdownServerSuccess,b=e.systemFeedbackService,S=e.isLoading,w=e.setIsLoading,E=e.maxPlayers,x=e.currentPlayersCount,I=ur((0,r.useState)(m),2),P=I[0],T=I[1],N=(null==h?void 0:h.id)===c.authenticatedUser.id,A=!!v,O=A&&!f,j=(0,r.useContext)(cr);(0,r.useEffect)((function(){T(m)}),[m]);var R=fr&&fr>0?null==g?void 0:g.slice(0,fr):g,C=v>0,F=C&&N,D=F||null!==t&&(!C&&u||F),k=x-R.length>0&&"+".concat(x-R.length);return n().createElement("li",{className:"rbx-".concat(i,"game-server-item col-md-3 col-sm-4 col-xs-6")},n().createElement("div",{className:"card-item"},n().createElement("div",{className:"player-thumbnails-container"},R.map((function(e){return n().createElement(gr,{key:e.playerToken,player:e})})),!!k&&n().createElement("span",{className:"avatar avatar-headshot-md player-avatar hidden-players-placeholder"},k)),n().createElement("div",{className:z()("rbx-".concat(i,"game-server-details"),"game-server-details",{"border-right":o===pr.Vip.key})},(!!d||!!D)&&n().createElement("div",{className:"section-header"},d&&n().createElement("span",{className:"font-bold"},d),n().createElement(Te,{className:"link-menu rbx-".concat(i,"game-server-menu"),translate:a,placeId:s,gameId:t,vipServerId:v,isOwner:N,canManagePlace:u,shutdownServer:function(){S&&b.warning(a(mr.shutdownServerError)),w(!0),L.shutdownGameInstance(s,t,v).then((function(){b.success(a(mr.shutdownServerSuccess)),y()}),(function(){b.warning(a(mr.shutdownServerError))})).finally((function(){w(!1)}))},isLoading:S})),A&&n().createElement(_e,{ownerUserId:h.id,ownerName:h.displayName,ownerHasVerifiedBadge:h.hasVerifiedBadge}),n().createElement("div",{className:"text-info rbx-game-status rbx-".concat(i,"game-server-status text-overflow")},l),n().createElement(hr,{maxPlayerCount:E,currentPlayerCount:x}),!A&&n().createElement(Ve,{translate:a,players:g}),p&&n().createElement("div",{className:"rbx-".concat(i,"game-server-alert")},n().createElement("span",{className:"icon-remove"}),a(mr.slowGameWarning)),A&&n().createElement(Ge,{privateServerId:v,isPaymentCancelled:!(null!=P&&P.active)&&(null==P?void 0:P.price)>0,isInsufficientFunds:null==P?void 0:P.hasInsufficientFunds,isServerInactive:O,canRenew:(null==P?void 0:P.canRenew)&&!(null!=P&&P.active),setSubscription:T,isLoading:S,systemFeedbackService:b}),!O&&!(null!=P&&P.isExpired)&&n().createElement("span",{"data-placeid":s},n().createElement(W.Button,{className:"btn-full-width btn-control-xs rbx-".concat(i,"game-server-join game-server-join-btn"),onClick:Ee(s,{instanceId:t,accessCode:f},o),isDisabled:S||j.disableJoinButtonForFullServers&&x>=E},a(mr.joinServerText))))))}yr.defaultProps={id:null,cssKey:"",serverListType:"",canManagePlace:!1,name:"",vipServerId:0,accessCode:"",showSlowGameMessage:!1,owner:void 0,vipServerSubscription:void 0,players:[],maxPlayers:0,currentPlayersCount:0},yr.propTypes={id:s().string,translate:s().func.isRequired,cssKey:s().string,serverListType:s().string,placeId:s().number.isRequired,name:s().string,vipServerId:s().number,maxPlayers:s().number,currentPlayersCount:s().number,vipServerSubscription:{canRenew:s().bool.isRequired,active:s().bool.isRequired,hasInsufficientFunds:s().bool.isRequired,price:s().number.isRequired,expired:s().bool.isRequired},accessCode:s().string,gameServerStatus:s().string.isRequired,canManagePlace:s().bool,showSlowGameMessage:s().bool,owner:{id:s().number.isRequired,name:s().string.isRequired,displayName:s().string.isRequired,hasVerifiedBadge:s().bool.isRequired},players:s().arrayOf(s().any),onShutdownServerSuccess:s().func.isRequired,isLoading:s().bool.isRequired,setIsLoading:s().func.isRequired,systemFeedbackService:s().shape({success:s().func.isRequired,warning:s().func.isRequired}).isRequired};const br=yr,{resources:Sr,sortOrders:wr}=i;const Er=(0,l.withTranslations)((function({translate:e,options:r,setOptions:t,isLoading:a=!1}){return n().createElement("div",{className:"server-list-options"},n().createElement("div",{className:"select-group"},n().createElement("label",{className:"select-label text-label",htmlFor:"sort-select"},e(Sr.numberOfPlayers)||"Number of Players"),n().createElement("div",{className:"rbx-select-group select-group"},n().createElement("select",{onChange:e=>{u.EventStream.SendEventWithTarget("serverListOptionsInteraction","sortSelect",{pid:we(),sort:e.currentTarget.value},u.EventStream.TargetTypes.WWW),t((r=>Object.assign(Object.assign({},r),{sortOrder:e.currentTarget.value})))},onFocus:()=>{u.EventStream.SendEventWithTarget("serverListOptionsInteraction","sortDropdown",{pid:we()},u.EventStream.TargetTypes.WWW)},disabled:a,value:r.sortOrder,id:"sort-select","data-testid":"sort-select",className:"input-field rbx-select select-option"},n().createElement("option",{value:wr.descending},e(Sr.descending)||"Descending"),n().createElement("option",{value:wr.ascending},e(Sr.ascending)||"Ascending")),n().createElement("span",{className:"icon-arrow icon-down-16x16"}))),n().createElement("div",{className:"checkbox"},n().createElement("input",{onChange:e=>{u.EventStream.SendEventWithTarget("serverListOptionsInteraction","filterSelect",{pid:we(),checked:e.currentTarget.checked},u.EventStream.TargetTypes.WWW),t((r=>Object.assign(Object.assign({},r),{excludeFullGames:e.currentTarget.checked})))},disabled:a,type:"checkbox",id:"filter-checkbox","data-testid":"filter-checkbox",checked:r.excludeFullGames}),n().createElement("label",{className:"checkbox-label text-label",htmlFor:"filter-checkbox"},e(Sr.hideFullServers)||"Hide Full Servers")))}),B);function xr(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(s.push(n.value),s.length!==r);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return Ir(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ir(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Pr=xr((0,W.createSystemFeedback)(),2),Tr=Pr[0],Lr=Pr[1],Nr=i.slowGameFpsThreshold,Ar=i.resources,Or=i.numGameInstancesPerRow,jr=i.defaultOptions;function Rr(e){var t=e.translate,a=e.headerTitle,i=e.type,o=e.placeId,s=e.showLoadMoreButton,l=e.gameInstances,c=e.loadMoreGameInstances,u=e.refreshGameInstances,d=e.handleGameInstanceShutdownAtIndex,v=e.userCanManagePlace,m=e.loadingError,f=e.isLoading,p=e.setIsLoading,h=i?"".concat(i,"-"):"",g="rbx-".concat(h,"running-games"),y=0===l.length,b="rbx-".concat(h,"game-server-item-container"),S="card-list rbx-".concat(h,"game-server-item-container"),w="rbx-".concat(h,"running-games-footer"),E=(0,r.useMemo)((function(){var e=l.length%Or;return e>0&&s?l.slice(0,-1*e):l}),[l,s]),x=xr((0,r.useState)(jr),2),I=x[0],P=x[1];(0,r.useContext)(cr);return(0,r.useEffect)((function(){null==u||u(I)}),[I]),n().createElement(r.Fragment,null,n().createElement(Tr,null),n().createElement("div",{id:g,className:"stack server-list-section","data-placeid":o,"data-showshutdown":!0},a&&n().createElement("div",{className:"container-header"},n().createElement("div",{className:"server-list-container-header"},n().createElement("h2",{className:"server-list-header"},a),n().createElement(W.Button,{size:W.Button.sizes.extraSmall,variant:W.Button.variants.control,className:"btn-more rbx-refresh refresh-link-icon",onClick:function(){return u(I)},isDisabled:f},t(Ar.privateServerRefreshText)||"Refresh")),""===i&&n().createElement(Er,{translate:t,isLoading:f,options:I,setOptions:P})),y?n().createElement("div",{className:"section-content-off empty-game-instances-container"},f?n().createElement(W.Loading,null):n().createElement("p",{className:"no-servers-message"},m?t(Ar.loadServersError)||"Unable to load servers.":t(Ar.noServersFoundText))):n().createElement(r.Fragment,null,n().createElement("ul",{id:b,className:S},E.map((function(e,r){var a=e.id,s=e.playing,l=e.maxPlayers,c=e.pfs,u=e.vipServerId,m=e.vipServerSubscription,y=e.accessCode,b=e.name,S=e.owner,w=e.players;return n().createElement(br,{key:g,id:a,translate:t,cssKey:h,serverListType:i,placeId:o,canManagePlace:v,name:b,vipServerId:u,vipServerSubscription:m,owner:S,accessCode:y,currentPlayersCount:s||w.length,showSlowGameMessage:c<Nr,gameServerStatus:t(Ar.playerCountText,{currentPlayers:s||w.length,maximumAllowedPlayers:l}),players:w,onShutdownServerSuccess:function(){d(r)},systemFeedbackService:Lr,isLoading:f,setIsLoading:p,maxPlayers:l})}))),n().createElement("div",{className:w},s&&n().createElement(W.Button,{type:"button",onClick:function(){return c(I)},className:"rbx-running-games-load-more",variant:W.Button.variants.control,width:W.Button.widths.full,isDisabled:f},t(Ar.loadMoreButtonText))))))}Rr.defaultProps={type:"",showLoadMoreButton:!1,loadMoreButtonText:"",headerTitle:"",gameInstances:[]},Rr.propTypes={translate:s().func.isRequired,type:s().string,placeId:s().number.isRequired,headerTitle:s().string,loadMoreGameInstances:s().func.isRequired,showLoadMoreButton:s().bool,loadMoreButtonText:s().string,gameInstances:s().arrayOf(s().any),refreshGameInstances:s().func.isRequired,handleGameInstanceShutdownAtIndex:s().func.isRequired,userCanManagePlace:s().bool.isRequired,isLoading:s().bool.isRequired,setIsLoading:s().func.isRequired,loadingError:s().bool.isRequired};const Cr=(0,l.withTranslations)(Rr,B);function Fr(e){var r=e.type,t=e.translate,a=e.headerTitleResource,i=e.getGameServers,o=q(i),s=o.servers,l=o.loadMoreServers,c=o.refreshServers,u=o.removeServerAtIndex,d=o.hasNext,v=o.isBusy,m=o.setIsBusy,f=o.hasError,p=o.metaData,h=p.placeId,g=p.userCanManagePlace;return n().createElement(Cr,{type:r,placeId:h,gameInstances:s,headerTitle:t(a),showLoadMoreButton:d,loadMoreGameInstances:l,refreshGameInstances:c,handleGameInstanceShutdownAtIndex:u,userCanManagePlace:g,isLoading:v,setIsLoading:m,loadingError:f})}Fr.defaultProps={type:""},Fr.propTypes={type:s().string,translate:s().func.isRequired,headerTitleResource:s().string.isRequired,getGameServers:s().func.isRequired};const Dr=(0,l.withTranslations)(Fr,B);function kr(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Gr,Mr,qr=(0,W.createModal)(),Br=(Mr=2,function(e){if(Array.isArray(e))return e}(Gr=qr)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(s.push(n.value),s.length!==r);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(Gr,Mr)||function(e,r){if(e){if("string"==typeof e)return kr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?kr(e,r):void 0}}(Gr,Mr)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_r=Br[0],Ur=Br[1],Hr=i.resources,Wr=i.serverNameMaxLength;function Vr(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(s.push(n.value),s.length!==r);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return zr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zr(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var $r=i.resources,Jr=Vr(function(){function e(e){var r=e.translate,t=e.privateServerTranslate,a=e.assetName,i=e.expectedPrice,o=e.thumbnail,s=e.serverName,l=e.onAction,c=e.onServerNameChange,u=e.clearForm,d=e.loading,v=n().createElement("span",{className:"purchase-private-server-modal-footer-text"},n().createElement(Ne.BalanceAfterSaleText,{expectedPrice:i})," ",t(Hr.createServerFooterDescription)||"This is a subscription-based feature. It will auto-renew once a month until you cancel the subscription."),m=n().createElement("div",{className:"private-server-purchase"},n().createElement("div",{className:"modal-list-item private-server-main-text",dangerouslySetInnerHTML:{__html:t(Hr.createPrivateServerPriceText,{target:(0,Le.renderToString)(n().createElement(Ne.PriceLabel,{price:i}))})}}),n().createElement("div",{className:"modal-list-item"},n().createElement("span",{className:"text-label private-server-game-name"},t(Hr.gameNameText)),n().createElement("span",{className:"game-name"},a)),n().createElement("div",{className:"modal-list-item private-server-name-input"},n().createElement("span",{className:"text-label"},t(Hr.serverNameText)),n().createElement("div",{className:"form-group form-has-feedback"},n().createElement("input",{type:"text",value:s,onChange:c,maxLength:Wr,className:"form-control input-field private-server-name",id:"private-server-name-text-box"}),s.length>0&&n().createElement("p",{className:"form-control-label text-secondary"},s.length,"/",Wr))),n().createElement("div",{className:"modal-image-container"},o));return n().createElement(_r,{id:"purchase-private-server-modal",title:t(Hr.createPrivateServerTitle),body:m,actionButtonText:r(Hr.buyNowText),neutralButtonText:r(Hr.cancelAction),footerText:v,onAction:l,onNeutral:u,loading:d,actionButtonShow:!0,disableActionButton:0===s.length})}return e.defaultProps={serverName:"",createServerError:!1,loading:!1},e.propTypes={translate:s().func.isRequired,privateServerTranslate:s().func.isRequired,thumbnail:s().node.isRequired,assetName:s().string.isRequired,expectedPrice:s().number.isRequired,serverName:s().string,onAction:s().func.isRequired,onServerNameChange:s().func.isRequired,createServerError:s().bool,loading:s().bool,clearForm:s().func.isRequired},[(0,l.withTranslations)(e,U),Ur]}(),2),Kr=Jr[0],Yr=Jr[1],Qr=Vr((0,Ne.createItemPurchase)({customPurchaseVerificationModal:Kr,customPurchaseVerificationModalService:Yr}),2),Xr=Qr[0],Zr=Qr[1],et=N;function rt(e){var t=e.privateServerTranslate,a=e.translate,i=e.refreshServers,o=e.universeId,s=e.price,l=e.placeName,c=e.canCreatePrivateServer,u=e.productId,d=e.currency,v=e.sellerId,f=e.sellerName,p=Vr((0,r.useState)(""),2),h=p[0],g=p[1];et().gameDetailPreopenCreatePrivateServerModal&&Zr.start();var y=function(){return g(""),!0},b=n().createElement($.Thumbnail2d,{type:$.ThumbnailTypes.gameIcon,size:$.DefaultThumbnailSize,targetId:o,containerClass:"modal-thumb",imgClassName:"original-image",format:$.ThumbnailFormat.jpeg});return n().createElement("span",{className:"rbx-private-server-create"},n().createElement(W.Button,{className:"btn-more rbx-private-server-create-button",size:W.Button.sizes.medium,variant:W.Button.variants.secondary,onClick:Zr.start,isDisabled:!c},t($r.createPrivateServerTitle)),n().createElement(Xr,{productId:u,expectedPrice:s,thumbnail:b,assetName:l,assetType:t($r.privateServerLabel),sellerName:f,expectedCurrency:d,expectedSellerId:v,handlePurchase:function(e){var r=e.handleError,t=e.setLoading,n=e.openConfirmation,l=e.closeAll;t(!0),L.createPrivateServer(o,h,s).then((function(e){var r=e.data;t(!1),l();var a=r.vipServerId;n({transactionVerb:Ne.TransactionVerb.Bought,onAccept:function(){window.location.href=m(a)},onDecline:function(){return i(),y(),!0}})}),(function(e){var n,o,s=e.data;t(!1),l();var c=null!==(n=null===(o=s.errors)||void 0===o?void 0:o[0].userFacingMessage)&&void 0!==n?n:a($r.purchaseError);r({showDivId:Ne.errorTypeIds.transactionFailure,title:a($r.transactionFailedHeading),errorMsg:c,onDecline:function(){return i(),!0}})}))},customProps:{privateServerTranslate:t,serverName:h,onServerNameChange:function(e){var r=e.target.value;return g(r)},clearForm:y},isPrivateServer:!0}),!c&&n().createElement("span",{className:"text-footer rbx-private-server-create-disabled-text"},a($r.maxFreePrivateServersText)))}rt.defaultProps={canCreatePrivateServer:!0,currency:1},rt.propTypes={translate:s().func.isRequired,privateServerTranslate:s().func.isRequired,refreshServers:s().func.isRequired,universeId:s().number.isRequired,price:s().number.isRequired,placeName:s().string.isRequired,canCreatePrivateServer:s().bool,currency:s().number,productId:s().number.isRequired,sellerId:s().number.isRequired,sellerName:s().string.isRequired};const tt=(0,l.withTranslations)(rt,H);function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function at(){at=function(){return r};var e,r={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,r,t){e[r]=t.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{c({},"")}catch(e){c=function(e,r,t){return e[r]=t}}function u(e,r,t,n){var i=r&&r.prototype instanceof g?r:g,o=Object.create(i.prototype),s=new O(n||[]);return a(o,"_invoke",{value:T(e,t,s)}),o}function d(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}r.wrap=u;var v="suspendedStart",m="suspendedYield",f="executing",p="completed",h={};function g(){}function y(){}function b(){}var S={};c(S,o,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(j([])));E&&E!==t&&n.call(E,o)&&(S=E);var x=b.prototype=g.prototype=Object.create(S);function I(e){["next","throw","return"].forEach((function(r){c(e,r,(function(e){return this._invoke(r,e)}))}))}function P(e,r){function t(a,i,o,s){var l=d(e[a],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==nt(u)&&n.call(u,"__await")?r.resolve(u.__await).then((function(e){t("next",e,o,s)}),(function(e){t("throw",e,o,s)})):r.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return t("throw",e,o,s)}))}s(l.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new r((function(r,a){t(e,n,r,a)}))}return i=i?i.then(a,a):a()}})}function T(r,t,n){var a=v;return function(i,o){if(a===f)throw new Error("Generator is already running");if(a===p){if("throw"===i)throw o;return{value:e,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var l=L(s,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===v)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=f;var c=d(r,t,n);if("normal"===c.type){if(a=n.done?p:m,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=p,n.method="throw",n.arg=c.arg)}}}function L(r,t){var n=t.method,a=r.iterator[n];if(a===e)return t.delegate=null,"throw"===n&&r.iterator.return&&(t.method="return",t.arg=e,L(r,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(a,r.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[r.resultName]=o.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function N(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function A(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function j(r){if(r||""===r){var t=r[o];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var a=-1,i=function t(){for(;++a<r.length;)if(n.call(r,a))return t.value=r[a],t.done=!1,t;return t.value=e,t.done=!0,t};return i.next=i}}throw new TypeError(nt(r)+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),r.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===y||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},r.awrap=function(e){return{__await:e}},I(P.prototype),c(P.prototype,s,(function(){return this})),r.AsyncIterator=P,r.async=function(e,t,n,a,i){void 0===i&&(i=Promise);var o=new P(u(e,t,n,a),i);return r.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(x),c(x,l,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var r=Object(e),t=[];for(var n in r)t.push(n);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in r)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=j,O.prototype={constructor:O,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!r)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function a(n,a){return s.type="throw",s.arg=r,t.next=n,a&&(t.method="next",t.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=r,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),h},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),A(t),h}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var a=n.arg;A(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:j(r),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=e),h}},r}function it(e,r,t,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void t(e)}s.done?r(l):Promise.resolve(l).then(n,a)}function ot(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(s.push(n.value),s.length!==r);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return st(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return st(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var lt=i.resources,ct=i.serverListTypes,ut=$e.layerNames,dt=$e.defaultValues;function vt(e){var t=e.translate,a=e.showServers,i=e.intl,o=e.isAboutTab,s=q(L.getVipGameInstances,a),l=s.servers,u=s.loadMoreServers,d=s.refreshServers,v=s.clearServerAtIndex,m=s.hasNext,p=s.isBusy,h=s.setIsBusy,g=s.hasError,y=s.metaData,b=y.universeId,S=y.placeId,w=y.placeName,E=y.canCreateServer,x=y.price,I=y.userCanManagePlace,P=y.sellerId,T=y.sellerName,N=y.privateServerProductId,A=function(e){var r=he().gameDetailPrivateServerLimit;return e.forEach((function(e){e.owner.id===c.authenticatedUser.id&&(r-=1)})),r>0}(l),O=0!==N,j='<a class="text-link" href="#!/game-instances">'.concat(t(lt.serversText),"</a>"),R='<a class="text-link" href="'.concat(f(i.getRobloxLocale()),'">').concat(t(lt.privateServerHeader),"</a>"),C=ot((0,r.useState)(null),2),F=C[0],D=C[1];return(0,r.useEffect)((function(){var e;o&&(e=at().mark((function e(){var r,t;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(ut.gameDetails,dt.gameDetails);case 2:r=e.sent,t=!(null==r||!r.ShouldHidePrivateServersInAboutTab),D(t);case 5:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,a){var i=e.apply(r,t);function o(e){it(i,n,a,o,s,"next",e)}function s(e){it(i,n,a,o,s,"throw",e)}o(void 0)}))})()}),[o]),F&&o&&!O?null:n().createElement("div",{id:"rbx-private-servers",className:"stack"},n().createElement("div",{className:"container-header"},n().createElement("h2",null,t(lt.privateServerHeader)),a&&O&&n().createElement(W.Button,{size:W.Button.sizes.extraSmall,variant:W.Button.variants.control,className:"btn-more rbx-refresh refresh-link-icon",onClick:function(){return d()},isDisabled:p},t(lt.privateServerRefreshText)),n().createElement(W.Tooltip,{id:"private-server-tooltip",placement:"bottom",content:t(lt.privateServerTooltip)},n().createElement("span",{className:"icon-moreinfo"}))),O?n().createElement(r.Fragment,null,n().createElement("div",{className:"create-server-banner section-content remove-panel"},n().createElement("div",{className:"create-server-banner-text text"},E&&n().createElement("span",{className:"private-server-price",dangerouslySetInnerHTML:{__html:t(lt.privateServerPrice,{price:(0,Le.renderToString)(n().createElement(Ne.PriceLabel,{price:x}))})}}),n().createElement("span",{className:"play-with-others-text"},t(lt.privateServerPlayWithOthers),n().createElement("br",null),!a&&n().createElement("span",{dangerouslySetInnerHTML:{__html:t(lt.seeAllPrivateServersText,{serversLink:j})}}))),E&&n().createElement(tt,{privateServerTranslate:t,refreshServers:d,placeName:w,universeId:b,price:x,canCreatePrivateServer:A,sellerId:P,sellerName:T,productId:N})),n().createElement("div",{className:"section tab-server-only"},a&&n().createElement(Cr,{type:ct.Vip.key,placeId:S,gameInstances:l,showLoadMoreButton:m,loadMoreGameInstances:u,handleGameInstanceShutdownAtIndex:v,userCanManagePlace:I,isLoading:p,setIsLoading:h,loadingError:g}))):n().createElement("div",{className:"section-content-off",dangerouslySetInnerHTML:{__html:t(lt.privateServersNotSupported,{vipServersLink:R})}}))}vt.defaultProps={showServers:!0,isAboutTab:!1},vt.propTypes={translate:s().func.isRequired,showServers:s().bool,intl:s().shape({getRobloxLocale:s().func.isRequired}).isRequired,isAboutTab:s().bool};const mt=(0,l.withTranslations)(vt,_);var ft={about:"tab-about",store:"tab-store",servers:"tab-game-instances"};const pt={gameDetailTabs:ft,gameDetailHashesToTabs:{"#!/about":ft.about,"#!/store":ft.store,"#!/game-instances":ft.servers}};var ht=pt.gameDetailTabs;function gt(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(s.push(n.value),s.length!==r);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return yt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yt(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var bt=pt.gameDetailTabs,St=pt.gameDetailHashesToTabs,wt=function(){var e=document.getElementById("horizontal-tabs");if(e){var r=Object.values(ht);try{r.forEach((function(r){if(!e.querySelector("#".concat(r)))throw new Error("Unable to find horizontal tab with id ".concat(r))}))}catch(e){return console.log(e.message),!1}return!0}return!1},Et=function(){if(!wt())return null;var e=St[window.location.hash];return e||bt.about};const xt=function(){var e=gt((0,r.useState)(Et()),2),t=e[0],n=e[1],a=function(){n(Et())};return(0,r.useEffect)((function(){return window.addEventListener("hashchange",a),function(){window.removeEventListener("hashchange",a)}}),[]),t};function It(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(s.push(n.value),s.length!==r);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return Pt(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pt(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Tt=i.serverListTypes,Lt=i.resources,Nt=pt.gameDetailTabs;function At(){var e=It((0,r.useState)(!1),2),t=e[0],a=e[1],i=xt();return(0,r.useEffect)((function(){t||i===Nt.servers&&a(!0)}),[i,t]),i&&!t?n().createElement(r.Fragment,null):n().createElement(lr,null,n().createElement(mt,null),n().createElement(Dr,{type:Tt.friend.key,getGameServers:L.getFriendsGameInstances,headerTitleResource:Lt.friendsServersTitle}),n().createElement(Dr,{getGameServers:L.getPublicGameInstances,headerTitleResource:Lt.publicServersTitle}))}At.propTypes={};const Ot=At;var jt="running-game-instances-container",Rt="private-server-container-about-tab";(0,e.ready)((function(){document.getElementById(jt)&&(0,a.render)(n().createElement(Ot,null),document.getElementById(jt)),document.getElementById(Rt)&&(0,a.render)(n().createElement(mt,{showServers:!1,isAboutTab:!0}),document.getElementById(Rt))}))})()})();